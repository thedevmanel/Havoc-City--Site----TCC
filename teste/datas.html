<!DOCTYPE html>
<html>
<head>
    <title>Validação de Data e Hora</title>
</head>
<body>
    <form>
        <label for="data-hora">Selecione  data e hora:</label>
        <input type="datetime-local" id="data-hora" name="data-hora">
        <button type="submit">Enviar</button>
    </form>

    <script>
        // Função para validar a data e hora
        function validarDataHora() {
            const inputDataHora = new Date(document.getElementById("data-hora").value);
            const dataAtual = new Date();
            const dataMaxima = new Date();
            dataMaxima.setFullYear(dataMaxima.getFullYear() + 2);

            // Verifica se a data selecionada está dentro do intervalo desejado
            if (inputDataHora < dataAtual || inputDataHora > dataMaxima) {
                alert("A data e hora devem estar entre hoje e daqui a 2 anos.");
                return false;
            }

            // Verifica se a hora selecionada está entre 13:00 e 16:00
            const horaInicio = new Date(inputDataHora);
            horaInicio.setHours(13, 0, 0, 0);
            const horaFim = new Date(inputDataHora);
            horaFim.setHours(16, 0, 0, 0);

            if (inputDataHora < horaInicio || inputDataHora > horaFim) {
                alert("A hora selecionada deve estar entre 13:00 e 16:00.");
                return false;
            }
            
            return true;
        }
        
        //  // Verifica se é domingo (0 é o código para domingo)
        //  if (inputDataHora.getDay() === 0) {
        //         alert("Não é permitido enviar o formulário aos domingos.");
        //         return false;
        //     }

        // Adiciona um ouvinte de evento de envio do formulário
        document.querySelector("form").addEventListener("submit", function (e) {
            if (!validarDataHora()) {
                e.preventDefault(); // Impede o envio do formulário se a data e hora forem inválidas
            }
        });

    </script>
</body>
</html>